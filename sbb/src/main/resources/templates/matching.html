<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout/layout}">
<th:block layout:fragment="content">
    <p>
		<head>
		    <meta charset="UTF-8">
		    <meta name="viewport" content="width=device-width, initial-scale=1.0">
		    <title>Moata-매칭</title>
		    <script src="https://cdn.tailwindcss.com"></script>
		    <link rel="stylesheet" href="/css/global.css">
		</head>
		<body class="min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50">
		    <!-- Background decorations -->
		    <div class="fixed inset-0 overflow-hidden pointer-events-none">
		        <div class="absolute -top-40 -right-40 w-80 h-80 bg-blue-200/30 rounded-full blur-3xl"></div>
		        <div class="absolute -bottom-40 -left-40 w-80 h-80 bg-indigo-200/30 rounded-full blur-3xl"></div>
		    </div>

		    <div class="container mx-auto px-4 py-8 relative z-10">
		        <div class="max-w-4xl mx-auto">
		            <!-- Search Form -->
		            <div class="mb-8 shadow-lg border-0 bg-white/80 backdrop-blur-sm rounded-lg p-6">
		                <h2 class="text-2xl font-semibold mb-6 flex items-center gap-2">
		                    <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
		                        <circle cx="11" cy="11" r="8"></circle>
		                        <path d="m21 21-4.35-4.35"></path>
		                    </svg>
		                    택시 메이트 찾기
		                </h2>
		                <form id="searchForm" class="space-y-6">
		                    <div class="grid md:grid-cols-2 gap-4">
		                        <div>
		                            <label class="text-sm font-medium block mb-2">출발지</label>
		                            <input id="departure" type="text" placeholder="출발지를 입력하세요" 
		                                   class="w-full px-3 py-2 border rounded-lg pl-10">
		                        </div>
		                        <div>
		                            <label class="text-sm font-medium block mb-2">목적지</label>
		                            <input id="destination" type="text" placeholder="목적지를 입력하세요" 
		                                   class="w-full px-3 py-2 border rounded-lg pl-10">
		                        </div>
		                    </div>
		                    <div>
		                        <label class="text-sm font-medium block mb-2">출발 시간</label>
		                        <input id="departureTime" type="datetime-local" class="px-3 py-2 border rounded-lg pl-10">
		                    </div>
		                    <button type="submit" 
		                            class="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 text-lg rounded-lg">
		                        택시 메이트 찾기
		                    </button>
		                </form>
		            </div>

		            <!-- Results -->
		            <div id="results" class="hidden space-y-6">
		                <div class="flex items-center justify-between">
		                    <h2 class="text-2xl font-bold text-gray-900">매칭 결과 (1명)</h2>
		                    <span class="text-sm bg-gray-100 px-3 py-1 rounded-full">실시간 업데이트</span>
		                </div>

		                <!-- Match Cards -->
		                <div class="space-y-4">
		                    <div class="bg-white/80 backdrop-blur-sm rounded-lg p-6 hover:shadow-lg transition">
		                        <div class="flex items-start justify-between">
		                            <div class="flex items-start gap-4 flex-1">
		                                <div class="relative">
		                                    <div class="w-12 h-12 bg-blue-500 rounded-full"></div>
		                                    <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-white rounded-full"></div>
		                                </div>
		                                <div class="flex-1 space-y-3">
		                                    <div class="flex items-center gap-3">
		                                        <h3 class="font-semibold text-lg">김민수</h3>
		                                        <span class="bg-green-500 text-white text-xs px-2 py-1 rounded">95% 매칭</span>
		                                        <span class="border border-green-600 text-green-600 text-xs px-2 py-1 rounded">온라인</span>
		                                    </div>
		                                    <div class="grid md:grid-cols-2 gap-3 text-sm text-gray-600">
		                                        <div>출발: 강남역 2번 출구</div>
		                                        <div>도착: 인천공항 1터미널</div>
		                                        <div>출발시간: 14:30</div>
		                                        <div>거리: 0.2km</div>
		                                    </div>
		                                </div>
		                            </div>
		                            <div class="flex flex-col gap-2 ml-4">
		                                <a href="/chat">
		                                    <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm">
		                                        채팅하기
		                                    </button>
		                                </a>
		                                <button class="border px-4 py-2 rounded-lg text-sm">매칭 요청</button>
		                            </div>
		                        </div>
		                    </div>
		                </div>
		            </div>
		        </div>
		    </div>

		    <!-- JavaScript 추가 및 검색 기능 구현 -->
		    <script src="/js/app.js"></script>
		    <script>
		        document.addEventListener('DOMContentLoaded', () => {
		            const searchForm = document.getElementById('searchForm');
		            const resultsDiv = document.getElementById('results');
		            
		            searchForm.addEventListener('submit', (e) => {
		                e.preventDefault();
		                
		                const departure = document.getElementById('departure').value;
		                const destination = document.getElementById('destination').value;
		                const departureTime = document.getElementById('departureTime').value;
		                
		                if (!departure || !destination || !departureTime) 
		                {
		                    alert('모든 필드를 입력해주세요.');
		                    return;
		                }

		                // 검색 실행
		                TaxiShare.toast.show('매칭을 찾는 중...', 'info');
		                
		                // 결과 표시
		                setTimeout(() => {
		                    resultsDiv.classList.remove('hidden');
		                    TaxiShare.toast.show('1명의 매칭 결과를 찾았습니다!', 'success');
		                }, 1500);
		            });
		        });
		    </script>
		</body>
    </p>
</th:block>
</html>
